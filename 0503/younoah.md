## 업데이트에서 객체활용

상태를 배열로 다루면 조금더 성능지 좋게 코드를 작성할 수 있다.

- state

```js
// 배열로 다루기
const card = [
    {
        id: 1,
    	...
    },
    {
        id: 2,
        ....
    }
]

// 객체로 다루기
const card = {
    1: {
        id: 1,
        ...
    },
    2: {
        id: 2,
        ...
    }
}
```



- 업데이트

```jsx
const updateCard = card => {
    const updated = cards.map(item => {
        if (card.id === item.id) {
            // 내용수정
        }
        return item; // 해당 업데이트 시킬 카드가 아니면 그대로 리턴
    });
}
```

배열의 내장객체를 순회하는 map은 모든 아이템은 전부 **순회**하고 **검증**하고 전부  값을 새로 만들어서 리턴한다.

하지만 우리는 특정 카드 1개만 업데이트 하는것이기 때문에 모든 카드를 순회해서 새로 만드는 것은 효율적이지 못하다.

객체를 이용하면 키값으로 인덱싱하여 해당 키의 값만 바꾸는 형태로 좀 더 효율적으로 활용할 수 있다.

```js
const updateCard = card => {
    const updated = {...card}; // 기존의 카드들을 그대로 가지고 오고
    updated[card.id] = card; // 수정할 카드 하나만 건들여준다.
    ....
}
```



